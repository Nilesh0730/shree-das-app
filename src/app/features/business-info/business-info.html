<div class="dashboard-container">
  <form [formGroup]="businessForm" (ngSubmit)="onSaveBusinessInformation()" class="info-card">

    <div class="card-header">
      <h2><i class="fas fa-briefcase"></i> व्यवसायाची माहिती</h2>
      <span class="badge" [ngClass]="isEditMode ? 'edit' : 'add'">
        {{ isEditMode ? 'Update Mode' : 'New Entry' }}
      </span>
    </div>

    <div class="form-body">
      <div class="input-grid">
        <div class="form-group">
          <label>व्यवसायाचे नाव (Business Name) <span class="required-star">*</span></label>
          <input formControlName="businessName" placeholder="Enter Business Name">
        </div>
        <div class="form-group">
          <label>सध्याचा व्यवसाय (Current Industry) <span class="required-star">*</span></label>
          <input formControlName="currentBusiness" placeholder="Industry Type">
        </div>
        <div class="form-group">
          <label>पोट व्यवसाय (Sub Business)</label>
          <input formControlName="subBusiness" placeholder="Enter Sub Business Type">
        </div>

      </div>
      <div class="form-group" style="margin-bottom: 1.5rem;">
        <label>सकारात्मक विचार (Core Strength)</label>
        <input formControlName="coreStrength" placeholder="Enter Core Strength">
      </div>
      <div class="form-group" style="margin-bottom: 1.5rem;">
        <label>भविष्य - दूर दृष्टी (Business View)</label>
        <input formControlName="businessView" placeholder="Enter Business View">
      </div>

      <div class="form-group" style="margin-bottom: 1.5rem;">
        <label>व्यवसायाचा पूर्ण पत्ता (Full Address) <span class="required-star">*</span></label>
        <input formControlName="address" placeholder="Complete Location Details">
      </div>

      <!-- <div class="input-grid">
        <div class="form-group">
          <label>जीएसटी क्रमांक (GST No.)</label>
          <input formControlName="gst" placeholder="GSTIN Optional">
        </div>
        <div class="form-group">
          <label>अनुभव वर्षे (Experience Years)</label>
          <input type="number" formControlName="businessDuration" placeholder="0">
        </div>
      </div> -->

       <div class="input-grid">
        <div class="form-group">
          <label class="required-label">जीएसटी क्रमांक (GST No.) <span class="required-star">*</span></label>
          <input formControlName="gst" placeholder="22AAAAA0000A1Z5"
            [class.is-invalid]="businessForm.get('gst')?.invalid && businessForm.get('gst')?.touched">
          <small class="error-message"
            *ngIf="businessForm.get('gst')?.touched && businessForm.get('gst')?.errors?.['pattern']">
             चुकीचा GST फॉरमॅट (e.g. 22AAAAA0000A1Z5)
          </small>
          <small class="error-message"
            *ngIf="businessForm.get('gst')?.touched && businessForm.get('gst')?.errors?.['required']">
             जीएसटी क्रमांक आवश्यक आहे
          </small>
        </div>
        <div class="form-group">
          <label>अनुभव वर्षे (Experience Years) <span class="required-star">*</span></label>
          <input type="number" formControlName="businessDuration" placeholder="0">
        </div>
      </div>

      <div class="section-title">वेळ उपलब्धता (Time Commitment) <span class="required-star">*</span></div>
      <div class="tile-grid">
        <label class="selectable-tile">
          <input type="checkbox" formControlName="partTime" (change)="onCheckboxChange('root', 'partTime')">
          <span>अर्धवेळ (Part Time)</span>
        </label>
        <label class="selectable-tile">
          <input type="checkbox" formControlName="fullTime" (change)="onCheckboxChange('root', 'fullTime')">
          <span>पूर्णवेळ (Full Time)</span>
        </label>
      </div>
      <div class="error-message"
        *ngIf="businessForm.errors?.['timeRequired']?.errors?.['requireOne'] && businessForm.touched">
        * कृपया एक पर्याय निवडा
      </div>

      <div class="section-title">व्यवसायाचे स्वरूप (Ownership) <span class="required-star">*</span> </div>
      <div class="tile-grid" formGroupName="ownership">
        <label class="selectable-tile">
          <input type="checkbox" formControlName="Proprietorship"
            (change)="onCheckboxChange('ownership', 'Proprietorship')">
          <span>वैयक्तिक मालकी</span>
        </label>
        <label class="selectable-tile">
          <input type="checkbox" formControlName="PvtLtd" (change)="onCheckboxChange('ownership', 'PvtLtd')">
          <span>Pvt. Ltd.</span>
        </label>
        <label class="selectable-tile">
          <input type="checkbox" formControlName="LLP" (change)="onCheckboxChange('ownership', 'LLP')">
          <span>LLP</span>
        </label>
        <label class="selectable-tile">
          <input type="checkbox" formControlName="Partnership" (change)="onCheckboxChange('ownership', 'Partnership')">
          <span>भागीदारी</span>
        </label>
      </div>
      <div class="error-message"
        *ngIf="businessForm.get('ownership')?.errors?.['requireOne'] && businessForm.get('ownership')?.touched">
        * कृपया एक पर्याय निवडा
      </div>

      <div class="section-title">व्यवसाय प्रकार (Business Type) <span class="required-star">*</span></div>
      <div class="tile-grid" formGroupName="bType">
        <label class="selectable-tile">
          <input type="checkbox" formControlName="Service" (change)="onCheckboxChange('bType', 'Service')">
          <span>सेवा (Service)</span>
        </label>
        <label class="selectable-tile">
          <input type="checkbox" formControlName="Trading" (change)="onCheckboxChange('bType', 'Trading')">
          <span>व्यापार (Trading)</span>
        </label>
        <label class="selectable-tile">
          <input type="checkbox" formControlName="Manufacture" (change)="onCheckboxChange('bType', 'Manufacture')">
          <span>उत्पादन (Mfg)</span>
        </label>
        <label class="selectable-tile">
          <input type="checkbox" formControlName="Wholesale" (change)="onCheckboxChange('bType', 'Wholesale')">
          <span>घाऊक (Wholesale)</span>
        </label>
        <label class="selectable-tile">
          <input type="checkbox" formControlName="RetailGhar" (change)="onCheckboxChange('bType', 'RetailGhar')">
          <span>किरकोळ (घरून)</span>
        </label>
        <label class="selectable-tile">
          <input type="checkbox" formControlName="RetailShop" (change)="onCheckboxChange('bType', 'RetailShop')">
          <span>किरकोळ (दुकान)</span>
        </label>
      </div>
      <div class="error-message"
        *ngIf="businessForm.get('bType')?.errors?.['requireOne'] && businessForm.get('bType')?.touched">
        * कृपया एक पर्याय निवडा
      </div>

      <div class="section-title">व्यवसायाचे ठिकाण (Location) <span class="required-star">*</span></div>
      <div class="tile-grid" formGroupName="location">
        <label class="selectable-tile">
          <input type="checkbox" formControlName="Gaon" (change)="onCheckboxChange('location', 'Gaon')">
          <span>गाव</span>
        </label>
        <label class="selectable-tile">
          <input type="checkbox" formControlName="City" (change)="onCheckboxChange('location', 'City')">
          <span>शहर</span>
        </label>
        <label class="selectable-tile">
          <input type="checkbox" formControlName="Bazaar" (change)="onCheckboxChange('location', 'Bazaar')">
          <span>बाजार</span>
        </label>
        <label class="selectable-tile">
          <input type="checkbox" formControlName="Home" (change)="onCheckboxChange('location', 'Home')">
          <span>घर</span>
        </label>
        <label class="selectable-tile">
          <input type="checkbox" formControlName="Phirta" (change)="onCheckboxChange('location', 'Phirta')">
          <span>फिरता</span>
        </label>
        <label class="selectable-tile">
          <input type="checkbox" formControlName="Itar" (change)="onCheckboxChange('location', 'Itar')">
          <span>इतर</span>
        </label>
      </div>
      <div class="error-message"
        *ngIf="businessForm.get('location')?.errors?.['requireOne'] && businessForm.get('location')?.touched">
        * कृपया एक पर्याय निवडा
      </div>

      <div class="section-title">आर्थिक माहिती (Financial Overview) <span class="required-star">*</span></div>
      <div class="input-grid">
        <div class="form-group">
          <label>भांडवली गुंतवणूक (Investment)</label>
          <input type="number" formControlName="capitalInvestment">
        </div>
        <div class="form-group">
          <label>वर्किंग कॅपिटल (Working Capital)</label>
          <input type="number" formControlName="workingCapital">
        </div>
        <div class="form-group">
          <label>मासिक खर्च (Monthly Exp)</label>
          <input type="number" formControlName="monthlyExpenses">
        </div>
        <div class="form-group">
          <label>सरासरी नफा (Avg Profit %)</label>
          <input type="number" formControlName="averageProfit">
        </div>
        <div class="form-group">
          <label>रोलिंग इन्व्हेस्टमेंट</label>
          <input type="number" formControlName="rollingInvestment">
        </div>
      </div>
    </div>

    <div class="form-footer">

      <button type="submit" class="btn-primary" [disabled]="businessForm.invalid">
        <i class="fas fa-check-circle"></i> {{ isEditMode ? 'Update Profile' : 'Save Details' }}
      </button>
    </div>
  </form>
</div>
<!-- [disabled]="businessForm.invalid" -->
